(this["webpackJsonpopenlibrary-histogram"]=this["webpackJsonpopenlibrary-histogram"]||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(4),i=n.n(c),a=(n(10),n(2)),s=(n(11),n(5)),o=n(0),l=function(){var e=Object(r.useState)(""),t=Object(a.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)([]),l=Object(a.a)(i,2),b=l[0],u=l[1],h=Object(r.useState)(!1),j=Object(a.a)(h,2),d=j[0],f=j[1],p=Object(r.useState)(null),O=Object(a.a)(p,2),m=O[0],x=O[1],g=Object(r.useState)([]),y=Object(a.a)(g,2),v=y[0],S=y[1],N=n.split(" ").join("+"),k="https://openlibrary.org/search.json?q=".concat(N);if(d)return Object(o.jsx)("h1",{style:{textAlign:"center"},children:"Searching Library..."});if(m)return Object(o.jsx)("pre",{children:JSON.stringify(m,null,2)});if(!b)return null;var _=[];!function(e){for(var t in e){var n=e[t].publish_year;for(var r in n)_.push(n[r])}}(b);var z=_.slice().sort((function(e,t){return e-t})),C=z[0],w=z[z.length-1]-C;var A={autoSize:!0,title:{enabled:!0,text:'Results for "'.concat(n,'"'),color:"black",fontWeight:"bold",fontSize:20},data:b,series:[{type:"histogram",xKey:"first_publish_year",xName:"Publicaiton Year",binCount:w,tooltip:{enabled:!1},label:{color:"#247",fontSize:9,fontWeight:"bold"},fill:"#247",stroke:"#fff",highlightStyle:{fill:"rgba(0, 116, 255, 0.74)"},listeners:{nodeClick:function(e){var t=[],n=e.datum.data;for(var r in n)t.push(n[r]);S(t)}}}],legend:{enabled:!1},navigator:{enabled:!0},axes:[{type:"number",position:"bottom",title:{enabled:!0,text:"Year of Publication"}},{type:"number",position:"left",title:{enabled:!0,text:"Number of Book Results"},tick:{width:1,size:6,count:5}}]};return Object(o.jsxs)("div",{className:"body",children:[Object(o.jsx)("h2",{className:"title",children:"Search Open Library"}),Object(o.jsxs)("form",{className:"Search",onSubmit:function(e){e.preventDefault(),f(!0),fetch("".concat(k)).then((function(e){return e.json()})).then((function(e){return u(e.docs)})).then((function(){return f()})).catch(x)},children:[Object(o.jsx)("input",{className:"input-field",type:"search",placeholder:"Enter Term to Search by",value:n,onChange:function(e){c(e.target.value)}}),Object(o.jsx)("button",{className:"button",type:"submit",children:"Find"})]}),Object(o.jsx)(s.AgChartsReact,{options:A,className:"chart"}),Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("ul",{children:v.map((function(e,t){return Object(o.jsxs)("li",{children:[Object(o.jsxs)("div",{className:"list",children:[Object(o.jsx)("img",{alt:"".concat(e.title," book"),src:"http:////covers.openlibrary.org/b/olid/".concat(e.cover_edition_key,"-M.jpg")}),Object(o.jsxs)("div",{className:"list-item",children:[Object(o.jsx)("h3",{children:e.title}),Object(o.jsx)("p",{children:"Author: ".concat(e.author_name)}),Object(o.jsx)("p",{children:"Year first published: ".concat(e.publish_year)})]})]}),Object(o.jsx)("hr",{})]},t)}))})})]})};i.a.render(Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(l,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.259de1e6.chunk.js.map